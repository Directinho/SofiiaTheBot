import backoff from "backoff";
import WebSocket from "ws";
import type { BaseNode } from "../base/Node.js";
export interface ConnectionOptions extends WebSocket.ClientOptions {
    resumeKey?: string;
    resumeTimeout?: number;
}
export declare class Connection<T extends BaseNode = BaseNode> {
    readonly node: T;
    url: string;
    options: ConnectionOptions;
    resumeKey?: string;
    ws: WebSocket;
    reconnectTimeout: number;
    private _backoff;
    private _listeners;
    private _queue;
    constructor(node: T, url: string, options?: ConnectionOptions);
    get backoff(): backoff.Backoff;
    set backoff(b: backoff.Backoff);
    connect(): void;
    configureResuming(timeout?: number, key?: string): Promise<void>;
    send(d: object): Promise<void>;
    close(code?: number, data?: string): Promise<void>;
    private _reconnect;
    private _registerWSEventListeners;
    private _flush;
    private _send;
}
