"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Node_js_1 = require("./base/Node.js");
class ClusterNode extends Node_js_1.BaseNode {
    cluster;
    tags;
    stats;
    constructor(cluster, options) {
        super(options);
        this.cluster = cluster;
        this.tags = new Set(options.tags || []);
        this.on("stats", (stats) => (this.stats = stats));
    }
    emit(name, ...args) {
        if (this.listenerCount(name)) {
            super.emit(name, ...args);
        }
        return this.cluster.emit(name, ...args);
    }
    send = (guildId, pk) => this.cluster.send(guildId, pk);
    async destroy(code, data) {
        await super.destroy(code, data);
        this.cluster.nodes.splice(this.cluster.nodes.indexOf(this), 1);
    }
}
exports.default = ClusterNode;
//# sourceMappingURL=ClusterNode.js.map